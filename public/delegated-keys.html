<h1 class="roboto-medium">Add Delegated Tenant API Keys</h1>
<br> <br><br>

<div class="btn-group" role="group" aria-label="Basic radio toggle button group">
  <input type="radio" class="btn-check" name="btnradio" id="step1-delegated-form" autocomplete="off" checked>
  <label class="btn btn-outline-primary" for="step1-delegated-form">Step 1: Add Keys</label>

  <input type="radio" class="btn-check" name="btnradio" id="step2-delegated-tenants" autocomplete="off">
  <label class="btn btn-outline-primary" for="step2-delegated-tenants">Step 2: Select Tenants</label>

</div>
<br><br>
<div class="card" id="card-step1">
  <div class="card-header">
    <h6>Delegated Tenant API Key Details - Step 1</h6>
  </div>
  <div class="card-body">
    This section is to add tenants which have access delegated via another tenant.
    <ul>
      <li>Delegated tenants currently require 'All Namespaces' and are assumed to have write access</li>
      <li>If API Key State is set ot Disabled then it will not be used, and all associated managed tenants will not be
        queried</li>
      <li>Once submitted, proceed to Step 2</li>
    </ul>

  </div>
</div>

<div class="card" id="card-step2" style="display: none;">
  <div class="card-header">
    <h6>Delegated Tenant - Select Managed Tenants - Step 2</h6>
  </div>
  <div class="card-body">
    This section is to select the tenants to be able to manage.
    <ul>
      <li>Add tenants to 'Selected Tenants' and hit submit </li>

    </ul>

  </div>
</div>
<br>


<div id="api-keys-form">
  <div id="api-keys-container">
    <!-- First APIKey Row -->
    <div class="row mb-3 api-key-row">
      <table>
        <tr>
          <td>
            <div class="input-group">
              <span class="input-group-text" id="">Delegated Tenant</span>
              <input type="text" class="form-control tenant-name" placeholder="Tenant Name" aria-label="Tenant Name" />
              <div class="invalid-feedback">
                Please provide a valid Tenant Name.
              </div>
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
              <span class="input-group-text" id="">API Key</span>
              <input type="text" class="form-control apikey" placeholder="API Key" aria-label="API Key" />
              <select class="form-select apikey-format" aria-label="API Key Format">
                <option value="clear" selected>Clear</option>
                <option value="enc">Enc</option>
              </select>
              <div class="invalid-feedback">Please Enter API Key</div>
              &nbsp;&nbsp;&nbsp;&nbsp;
              <span class="input-group-text" id="">API Key State</span>
              <select class="form-select apikey-state" aria-label="API Status">
                <option value="enabled" selected>Enabled</option>
                <option value="disabled">Disabled</option>
              </select>

            </div>
          </td>
          <td rowspan="3" style="width: 50px; padding-left: 10px">
            <div class="col-auto">
              <button type="button" class="btn btn-danger remove-api-key" disabled>
                X
              </button>
            </div>
          </td>
        </tr>


      </table>

      <div class="col-auto"></div>
    </div>
    <!-- Subsequent APIKey Rows will be dynamically added here -->
  </div>
  <div class="mt-3">
    <button type="button" id="add-delegated-api-key" class="btn btn-primary">
      <i class="bi bi-plus-square"></i>
      Add API Key
    </button>
    <button type="submit" id="submit-delegated-api-keys" class="btn btn-success ms-3">
      <i class="bi bi-arrow-down-square"></i>
      Submit
    </button>
    <!-- <button type="button" id="edit-existing-keys" class="btn btn-info ms-3">
      Edit Existing Keys
    </button> -->
  </div>
</div>

<div id="delegated-tenants-form" style="display: none;">

  <h6>Please Add Delegated Tenant API Keys First</h6>


  <!-- Tenant Header -->
  <!-- <div id="tenant-tableHeader-{{tenantName}}" class="collapse-header" data-bs-toggle="collapse"
    data-bs-target="#tenant-tableCollapse-{{tenantName}}" aria-expanded="true"
    aria-controls="tenant-tableCollapse-{{tenantName}}" data-tenantName="{{tenantName}}">

    <div class="float-start">
      <i class="bi bi-chevron-right pull-right"></i>
      <i class="bi bi-chevron-down pull-right"></i>
    </div>
    <span class="tenant-name selecthover" data-bs-toggle="collapse"
      data-bs-target="#tenant-tableCollapse-{{tenantName}}" aria-expanded="true"
      aria-controls="tenant-tableCollapse-{{tenantName}}">{{tenantName}}</span>

  </div>

  <br />
  <div id="tenant-tableCollapse-{{tenantName}}" class="collapse-body collapse show">

    <table>

      <tr>
        <td>
          <h6>Delegated Tenants</h6>
        </td>
        <td></td>
        <td>
          <h6>Selected Tenants</h6>
        </td>
      </tr>

      <tr>
        <td>
          <select id="delegated-tenants-{{tenantName}}" class="form-select" multiple
            style="height: 250px; width: 250px;" aria-label="Multiple select example">
            <option selected>Open this select menu</option>
            <option value="1">One</option>
            <option value="2">Two</option>
            <option value="3">Three</option>
          </select>
        </td>
        <td style="padding: 50px;">
          <button type="button" data-tenantName="{{tenantName}}" class="btn btn-primary move-items-btn">
            <i class="bi bi-chevron-double-right"></i>
          </button>
          <br><br>
          <button type="button" data-tenantName="{{tenantName}}" class="btn btn-danger remove-items-btn">
            <i class="bi bi-x-square"></i>
          </button>
        </td>
        <td>
          <select id="selected-tenants-{{tenantName}}" class="form-select" multiple style="height: 250px; width: 250px;"
            aria-label="Multiple select example">
          </select>
        </td>
      </tr>

    </table>




  </div> -->

</div>
<br><br>
<button type="submit" id="submit-selected-delegated-tenants" class="btn btn-success ms-3" style="display: none;">
  <i class="bi bi-arrow-down-square"></i>
  Submit
</button>